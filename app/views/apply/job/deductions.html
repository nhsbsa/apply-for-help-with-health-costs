 {% extends "layout_bsa.html" %}

{% block page_title %}
  Help paying for NHS Costs prototype
{% endblock %}

{% block content %}

<main id="content" role="main">
  <a href="javascript:history.go(-1)" class="link-back">Back</a>


<!--<h2 class="heading-medium line-heading">for 6 April 2015 to 5 April 2016</h2>-->


  <div class="grid-row">
         <div class="column-two-thirds">

                  <h1 class="heading-xlarge">
Do you need to take any of these deductions off your total estimated earnings for the tax year?
</h1>
          <p>Any amounts you enter below will reduce your estimated earnings for the tax year, 6 April 2016 to 5 April 2017, and could increase the payments you are entitled to.</p>
  <form action="" method="post" class="form">
    <div class="form-group" id="benefits">
      <fieldset>

       <!--  <legend class="form-label-bold">
            From 6 April 2015 to {{date}} what were your deductions?
            <span class="form-hint">Select all that are relevant to you and then enter the amount.</span>
        </legend>
<br> -->

        <!-- Maternity -->

        <label class="block-label" for="maternity" class="text">
            <input autocomplete="off" id="maternity" type="checkbox" name="maternity" value="true" data-prog-reveals="maternity-value">
            Statutory Maternity Pay
        </label>

        <div class="progressive-fields panel-indent" id="maternity-value">
<p>You can take off up to £100 a week. </p>
<p>For example, if you got £100 for 10 weeks, enter £1,000.</p>
<p>You can enter up to £3,900.</p>
<p>Do not include Maternity Allowance.</p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" name="maternity-value" autocomplete="off">
        </div>

        <!-- Paternity -->

        <label class="block-label" for="paternity" class="text">
            <input autocomplete="off" id="paternity" type="checkbox" name="paternity" value="true" data-prog-reveals="paternity-value">
            Statutory Paternity Pay
        </label>

        <div class="progressive-fields panel-indent" id="paternity-value">
<p>You can take off up to £100 a week. </p>
<p>For example, if you got £100 for 2 weeks, enter £200. </p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" name="paternity-value" autocomplete="off">
        </div>

        <!-- Shared Parental Pay -->

        <label class="block-label" for="shared-parental" class="text">
            <input autocomplete="off" id="shared-parental" type="checkbox" name="shared-parental" value="true" data-prog-reveals="shared-parental-value">
            Statutory Shared Parental Pay
        </label>

        <div class="progressive-fields panel-indent" id="shared-parental-value">
<p>You can take off up to £100 a week.</p>
<p>For example, if you got £100 for 10 weeks, enter £1,000 </p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" name="shared-parental-value" autocomplete="off">
        </div>  

        <!-- Adoption -->

        <label class="block-label" for="adoption" class="text">
            <input autocomplete="off" id="adoption" type="checkbox" name="adoption" value="true" data-prog-reveals="adoption-value">
            Statutory Adoption Pay
        </label>

        <div class="progressive-fields panel-indent" id="adoption-value">
<p>You can deduct up to £100 a week. </p>
<p>For example, if you expect to get £100 for 10 weeks, enter £1,000.</p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" name="adoption-value" autocomplete="off">
        </div>

        <!-- Gift Aid -->
        <label class="block-label" for="gift-aid" class="text">
            <input autocomplete="off" id="gift-aid" type="checkbox" name="gift-aid" value="true" data-prog-reveals="gift-aid-value">
            Gift Aid donations
        </label>

        <div class="progressive-fields panel-indent" id="gift-aid-value">
<p>For every £1 Gift Aid donation you expect to make, you can take £1.25 off your estimated earnings. </p>
<p>For example, if you pay £100 to charity during the tax year, enter £125.</p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" name="gift-aid-value" autocomplete="off">
        </div>


        <!-- Special clothing or tools -->
        <label class="block-label" for="clothing-or-tools">
          <input autocomplete="off" id="clothing-or-tools" type="checkbox" name="clothing-or-tools" value="true" 
          data-prog-reveals="clothing-or-tools-value">
          Buy or repair special clothing or tools needed for your job
        </label>

        <div class="progressive-fields panel-indent" 
        id="clothing-or-tools-value">
<p>How much do you expect to spend buying, or repairing, the special clothing or tools you need for your job?</p>
<p>Ask your employer for the yearly amount that applies to this job. </p>
          <label class="form-hint visuallyhidden">Enter amount</label>
          £ <input class="form-control-1-8" type="text" 
          name="clothing-or-tools-value" autocomplete="off">
        </div>

        <!-- Stakeholder Pensions -->

        <label class="block-label" for="stakeholder-pensions" class="text">
            <input autocomplete="off" id="stakeholder-pensions" type="checkbox" name="stakeholder-pensions" value="true" data-prog-reveals="stakeholder-pensions-value">
            Payments to your stakeholder pensions
        </label>

        <div class="progressive-fields panel-indent" 
        id="stakeholder-pensions-value">
<p>Enter the total amount you expect to pay into your stakeholder pension. 
For example, if you expect to pay £100 a month, enter £1200.</p>
<p>Do not include amounts paid into an occupational pension scheme (where your employer will take the pension contributions from your pay before deducting tax).</p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" 
          name="stakeholder-pensions-value" autocomplete="off">
        </div>

        <!-- Voluntary Pensions -->

        <label class="block-label" for="voluntary-pensions" class="text">
            <input autocomplete="off" id="voluntary-pensions" type="checkbox" name="voluntary-pensions" value="true" 
            data-prog-reveals="voluntary-pensions-value">
            Additional voluntary pension contributions
        </label>

        <div class="progressive-fields panel-indent" 
        id="voluntary-pensions-value">
        <p>Enter the total amount you expect to pay in additional voluntary pension contributions between 6 April 2016 and 5 April 2017.</p>
<p>Do not include anything you pay into an occupational pension scheme (where your employer took the pension contributions from your pay before deducting tax).</p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" 
          name="voluntary-pensions-value" autocomplete="off">
        </div>

        <!-- Fees to professional bodies -->
        <label class="block-label" for="professional-bodies" >
          <input autocomplete="off" id="professional-bodies" type="checkbox" name="professional-bodies" value="true" 
          data-prog-reveals="professional-bodies-value">
          Fees to professional bodies
        </label>

        <div class="progressive-fields panel-indent" 
        id="professional-bodies-value">
        <p>Enter how much you will pay in fees to professional bodies, for example agency fees, indemnity insurance and allowable union subscriptions/fees.</p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" 
          name="professional-bodies-value" autocomplete="off">
        </div>

        <!-- Work related expenses -->
        <label class="block-label" for="work-related" >
          <input autocomplete="off" id="work-related" type="checkbox" name="work-related" value="true" data-prog-reveals="work-related-value">
          Work related expenses that your employer will not pay back
        </label>

        <div class="progressive-fields panel-indent" id="work-related-value">
<p>Enter the total amount you expect to pay between 6 April 2016 and 5 April 2017.</p> <p>Do not include the cost of getting to and from work.</p>
          <label class="form-hint visuallyhidden">Enter amount
          </label>
          £ <input class="form-control-1-8" type="text" name="work-related-value" autocomplete="off">
        </div>

      </fieldset>
          </div>
          
         <!--  <input type="hidden" autocomplete="off" name="nextUrl" 
          value="estimated_income_from_2_jobs_edh"> -->

   
      <!-- </div> -->

<!-- <div class="column-third"> -->


 <table style="margin-bottom: 30px;">
    <tbody>
                                  <!-- <tr style="border-top:3px solid #000; border-bottom: 3px solid #000;">
                     <td style="font-weight: 700">
                    Estimated income from 06 April 2015 to {{date}}</td>
                    <td style="font-weight: 700">£<span id="income-summary">{{income}}
                    </span></td>
      </tr> -->
        <tr style="border-top:3px solid #000;
                   border-bottom: 3px solid #000">
        <!-- <td style="font-weight: 700">Estimated deductions from 6 April 2015 to {{date}}</td> -->
        <td style="font-weight: 700">For this tax year take off</td>

        
        <td style="font-weight: 700;text-align:right;padding-right:0;">£<span id="deduction-summary">{{deduction}}</span></td>
      </tr>

        </tbody>
      </table>


     <div class="form-group">
        <input class="button" type="submit"  value="Next">
      </div>
      
  </form>

</div>

</div>

</main>

  <script type="text/javascript">
    $(document).ready(function() {
      var $incSummary = $("#deduction-summary");
      var incomeSummary = parseInt($incSummary.text());
      if(isNaN(incomeSummary)){
         incomeSummary = 0;
       }
      var $incValues = $('div')
        .filter(function() {
            return this.id.match(/.+-value/);
        });
      var $incCheckboxes = $("input[type=checkbox]");
      var $allowedExtra = $('#allowed-extra');
      var test = incomeSummary;
      var update = function() {
        var incomeTotal = test;
        $incValues.each(function(i, e) {
          var count = parseInt($(e).find("input").val());
          if ($($incCheckboxes[i]).is(":checked") && !isNaN(count)) incomeTotal += count;
        });
      $incSummary.text(incomeTotal);
      $(".submitButton").click(function(){
        var total = parseInt($("#deduction-summary").text());
        var input = $("<input>")
               .attr("type", "hidden")
               .attr("name", "total-deductions").val(total);
        $('form').append($(input));
        $('form').submit();
      });
    };

      update();

      $incCheckboxes.on("click", function() {
        var id = $(this).attr("id")
        if (!$(this).is(":checked")) {
          $("#" + id + "-value").css('display', 'none');
        } else {
          $("#" + id + "-value input").focus();
        }

        update();
      });

      $incValues.on("keyup", function() {
        update();
      });
    });
  </script>
{% endblock %}
